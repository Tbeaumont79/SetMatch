<header>
    <div class="navbar bg-base-100 shadow-sm fixed top-0">
        <div class="flex-1">
            <a href="{{ path('app_home') }}" class="btn btn-ghost text-xl">SetMatch</a>
        </div>
        <div class="flex gap-2">
            <input type="text" placeholder="Search" class="input input-bordered w-24 md:w-auto" />

            {% if app.user %}
                <!-- Utilisateur connecté -->
                <div class="dropdown dropdown-end">
                    <div tabindex="0" role="button" class="btn btn-ghost btn-circle avatar">
                        <div class="w-10 rounded-full">
                            {% if app.user.avatar %}
                                <img alt="Avatar" src="{{ app.user.avatar }}" />
                            {% else %}
                                <img alt="Avatar par défaut" src="https://img.daisyui.com/images/stock/photo-1534528741775-53994a69daeb.webp" />
                            {% endif %}
                        </div>
                    </div>
                    <ul tabindex="0" class="menu menu-sm dropdown-content bg-base-100 rounded-box z-1 mt-3 w-52 p-2 shadow">
                        <li>
                            <a class="justify-between">
                                <span>{{ app.user.email }}</span>
                                {% if not app.user.isVerified %}
                                    <span class="badge badge-warning">Non vérifié</span>
                                {% endif %}
                            </a>
                        </li>
                        <li><a>Profil</a></li>
                        <li><a href="{{ path('app_user_posts') }}">Mes Posts</a></li>
                        <li><a>Messages</a></li>
                        <li><a>Paramètres</a></li>
                        <li><hr></li>
                        <li><a href="{{ path('app_logout') }}">Déconnexion</a></li>
                    </ul>
                </div>
            {% else %}
                <!-- Utilisateur non connecté -->
                <div class="flex gap-2">
                    <a href="{{ path('app_login') }}" class="btn btn-outline btn-primary">
                        Connexion
                    </a>
                    <a href="{{ path('app_register') }}" class="btn btn-primary">
                        Inscription
                    </a>
                </div>
            {% endif %}
        </div>
    </div>
</header>
